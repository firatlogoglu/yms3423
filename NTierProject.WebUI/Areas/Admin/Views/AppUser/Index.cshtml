@using NTierProject.CORE.Enums
@model List<AppUser>
@{
    ViewBag.Title = "Kullanıcılar";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";
}

<div class="row">
    <div class="col-lg-12">
        <section class="panel">
            <header class="panel-heading">
                @ViewBag.Title
            </header>
            <div class="panel-body">
                <div class="clearfix">
                    <div class="btn-group">
                        <a href="@Url.Action("Create", "AppUser")" class="btn btn-success">
                            Yeni Ekle
                            <i class="icon-plus"></i>
                        </a>
                    </div>
                </div>
                <table class="table table-striped table-advance table-hover">
                    <thead>
                        <tr>
                            <th><i class="icon-picture"></i> Görsel</th>
                            <th><i class="icon-user"></i> Adı</th>
                            <th><i class="icon-user"></i> Soyadı</th>
                            <th><i class="icon-user"></i> Kullanıcı Adı</th>
                            <th><i class="icon-envelope"></i> Email</th>
                            <th><i class="icon-map-marker"></i> Adres</th>
                            <th><i class="icon-phone"></i> Telefon</th>
                            <th><i class="icon-calendar"></i> Doğum Tarihi</th>
                            <th><i class="icon-level-down"></i> Seviye</th>
                            <th><i class="icon-ok"></i> Aktif/Pasif</th>
                            <th><i class="icon-calendar"></i> Oluşturma Tarihi</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    <img src="@item.ImagePath" style="width:32px; height:32px" />
                                </td>
                                <td>@item.Name</td>
                                <td>@item.SurName</td>
                                <td>@item.UserName</td>
                                <td>@item.Email</td>
                                <td>@item.Address</td>
                                <td>@item.PhoneNumber</td>
                                <td>@(((DateTime)item.BirthDate).ToShortDateString())</td>
                                @if (item.Role == Role.Banned)
                                {
                                    <td><span class="label label-danger label-mini">Yasaklı</span></td>
                                }
                                else if (item.Role == Role.Member)
                                {
                                    <td><span class="label label-primary label-mini">Üye</span></td>
                                }
                                else
                                {
                                    <td><span class="label label-success label-mini">Yönetici</span></td>
                                }

                                @if (item.isActive)
                                {
                                    <td><span class="label label-success label-mini">Aktif</span></td>
                                }
                                else
                                {
                                    <td><span class="label label-danger label-mini">Pasif</span></td>
                                }
                                <td>@item.CreatedDate</td>
                                <td>
                                    <a href="@Url.Action("Edit", "AppUser", new { id=item.ID })" class="btn btn-primary btn-xs"><i class="icon-pencil"></i> Düzenle</a>
                                    <a href="@Url.Action("ResetPassword", "AppUser", new { id=item.ID })" class="btn btn-warning btn-xs"><i class="icon-key"></i> Şifreyi Sıfırla</a>
                                    <a href="@Url.Action("Delete", "AppUser", new { id=item.ID })" class="btn btn-danger btn-xs"><i class="icon-trash"></i> Sil</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </section>
    </div>
</div>

